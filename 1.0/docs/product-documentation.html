<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Schalk W. CronjÃ©">
<title>GradleTest : A Gradle Compatibility Testing Plugin</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-right">
<div id="header">
<h1>GradleTest : A Gradle Compatibility Testing Plugin</h1>
<div class="details">
<span id="author" class="author">Schalk W. CronjÃ©</span><br>
<span id="revnumber">version 1.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_bootstrap">Bootstrap</a></li>
<li><a href="#_testkit_mode_gradle_2_13">Testkit Mode (Gradle 2.13+)</a>
<ul class="sectlevel1">
<li><a href="#_getting_started">Getting Started</a></li>
<li><a href="#_conventions">Conventions</a>
<ul class="sectlevel2">
<li><a href="#_filesystem">Filesystem</a></li>
<li><a href="#_gradle_entities">Gradle Entities</a></li>
</ul>
</li>
<li><a href="#_temporarily_overriding_gradle_versions">Temporarily overriding Gradle versions</a></li>
<li><a href="#_task_dependencies">Task dependencies</a></li>
<li><a href="#_html_reports">HTML Reports</a></li>
<li><a href="#_add_additional_compatibility_test_sets">Add additional compatibility test sets</a></li>
<li><a href="#_more_feedback">More feedback</a></li>
<li><a href="#_kotlin_dsl">Kotlin DSL</a></li>
<li><a href="#_command_line_awareness">Command-line Awareness</a></li>
<li><a href="#_advanced_features">Advanced Features</a>
<ul class="sectlevel2">
<li><a href="#_caching_dependencies">Caching Dependencies</a></li>
<li><a href="#_overriding_internal_dependencies">Overriding internal dependencies</a></li>
</ul>
</li>
<li><a href="#_base_plugin">Base plugin</a></li>
<li><a href="#_known_limitations_gradle_2_13">Known Limitations (Gradle 2.13+)</a></li>
<li><a href="#_upgrading_from_v0_5_x">Upgrading from v0.5.x</a></li>
<li><a href="#_compatibility_with_other_plugins">Compatibility with Other Plugins</a>
<ul class="sectlevel2">
<li><a href="#_license_plugin">License plugin</a></li>
<li><a href="#_codenarc_plugin">CodeNarc plugin</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_alternative_approaches_to_gradletest">Alternative Approaches to GradleTest</a>
<ul class="sectlevel1">
<li><a href="#_gradle_testkit">Gradle TestKit</a></li>
<li><a href="#_stutter">Stutter</a></li>
</ul>
</li>
<li><a href="#_gradletest_legacy_mode_gradle_2_0_2_12">GradleTest Legacy Mode (Gradle 2.0-2.12)</a>
<ul class="sectlevel1">
<li><a href="#_global_configuration">Global Configuration</a></li>
<li><a href="#_dynamic_dependencies">Dynamic dependencies</a></li>
<li><a href="#_task_dependencies_2">Task dependencies</a></li>
<li><a href="#_test_directory_layout">Test directory layout</a></li>
<li><a href="#_adding_additional_gradletest_tasks">Adding additional GradleTest tasks</a></li>
<li><a href="#_known_limitations_gradle_2_0_2_12">Known Limitations (Gradle 2.0-2.12)</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Test your plugin against different versions of Gradle as part of your build. This plugin extends the power that the new
<a href="https://docs.gradle.org/2.13/userguide/test_kit.html">GradleTestKit</a> brings without having to actually author code. It rather allows plugins authors to write functional tests
that looks like normal Gradle projects (multi-project is supported). This also makes it easier to create sample projects
that can directly be used in documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<strong>If you are using a Gradle version &lt; 2.13, it will run in legacy mode and behave like the 0.5.5 version of the plugin</strong>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bootstrap">Bootstrap</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GradleTest is available in the <a href="https://plugins.gradle.org/plugin/org.ysb33r.gradletest">Gradle Plugins</a> repository.
To use it, add the appropriate plugin to the <code>plugins</code> block.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">plugins {
  id 'org.ysb33r.gradletest' version '1.0' <i class="conum" data-value="1"></i><b>(1)</b>
  id 'org.ysb33r.gradletest.base' version '1.0' <i class="conum" data-value="2"></i><b>(2)</b>
  id 'org.ysb33r.gradlerunner' version '1.0' <i class="conum" data-value="3"></i><b>(3)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The common use case for compatibility testing</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use the base plugin when you do not require the default <code>gradleTest</code> tasks (and related source sets)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use the <code>gradlerunner</code> to easily execute independent steps of <code>GradleRunner</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When your setup is more complex and the plugins block does not work OR if you are using Gradle 2.0 use the following instead</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
  }

  dependencies {
    classpath 'org.ysb33r.gradle:gradletest:1.0'
  }
}

apply plugin: 'org.ysb33r.gradletest'</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Dynamic dependencies</strong>: Hard-coding the plugin version in to the <code>build.gradle</code> files of the <code>gradleTest</code>
test fixtures is a maintenance pain. However the plugin is injected automatically into the build via <code>GradleTestKit</code>.</p>
</div>
</div>
</div>
<h1 id="_testkit_mode_gradle_2_13" class="sect0">Testkit Mode (Gradle 2.13+)</h1>
<div class="sect1">
<h2 id="_getting_started">Getting Started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In <code>build.gradle</code> define the versions of Gradle that needs to be tested:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">gradleTest {
   versions '2.9', '3.4', '4.1'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Create a folder called <code>src/gradleTest</code>. Beneath that add a folder - call it 'myExample` for now. Within that create a normal Gradle project i.e. drop a <code>build.gradle</code> file and fill it out with the kind of syntax that a person will use to run your plugin. Finally add a custom task called <code>runGradleTest</code> and make it depend on some task that your plugin provides.</p>
</div>
<div class="paragraph">
<p>For example here is one example from GradleTest&#8217;s test suite of how itself is being tested.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">apply plugin : 'org.ysb33r.gradletest'

repositories {
    jcenter()
}

gradleTest {
    versions '2.12','2.13'
    expectFailure 'expectedBuildFailure'
}

task runGradleTest( dependsOn : ['gradleTest'] )</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conventions">Conventions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_filesystem">Filesystem</h3>
<div class="listingblock">
<div class="title">Source directory layout</div>
<div class="content">
<pre>${projectDir} / src / gradleTest /  project1  / build.gradle
                                    project2  /
                                    project3  /</pre>
</div>
</div>
<div class="paragraph">
<p>Each directory below <code>gradleTest</code> becomes a test. Tests are executed in-folder
and expects a <code>build.gradle</code> file. If the latter is not found the test will not be
executed.</p>
</div>
<div class="paragraph">
<p>For testing, a folder is created for each gradle version to be tested and the
projects are duplicated below the verson folder. Each version testsute is executed
within a separate JVM.</p>
</div>
<div class="listingblock">
<div class="title">Test directory layout</div>
<div class="content">
<pre>${buildDir} / gradleTest / project1  / ver1   <i class="conum" data-value="1"></i><b>(1)</b>
                                     / ver2   <i class="conum" data-value="2"></i><b>(2)</b>
                         / project2  / ver1
                         / manifest  <i class="conum" data-value="3"></i><b>(3)</b>
                         / src       <i class="conum" data-value="4"></i><b>(4)</b>
                         / init.gradle <i class="conum" data-value="5"></i><b>(5)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A folder is created for each project</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A folder for each Gradle version is created underneath the project folder</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Classpath manifest used when running tests</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Folder where generated source code ends up in</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Initscript used by GradleTest</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Test layout for one test</div>
<div class="content">
<pre>... / project1 / .gradle         <i class="conum" data-value="1"></i><b>(1)</b>
               / build           <i class="conum" data-value="2"></i><b>(2)</b>
               / build.gradle    <i class="conum" data-value="3"></i><b>(3)</b>
               / settings.gradle <i class="conum" data-value="4"></i><b>(4)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Project cachedir is sent here</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>It is recommended that the build directory not be changed and left as per default</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>build.gradle</code> is required for the test to be executed. It must contain a task called <code>runGradleTest</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>If a test project does not have a <code>settings.gradle file</code> an empty one will
be generated in the test folder</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Setting up your test project&#8217;s build.gradle</div>
<div class="content">
<pre>apply plugin : 'my.project.id'   <i class="conum" data-value="1"></i><b>(1)</b>

task runGradleTest {
  dependsOn 'someTask'   <i class="conum" data-value="2"></i><b>(2)</b>
}</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use <code>apply plugin</code> instead as it works across a larger range of Gradle versions. (No need for <code>buildscript</code> block
as GradleTest will take care of injecting the plugin on the classpath).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a <code>runGradleTest</code> task and make it depend on the real task from your plugin that needs execution.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_gradle_entities">Gradle Entities</h3>
<div class="paragraph">
<p>A <code>GradleTest</code> task called <code>gradleTest</code> will have the following associated entities:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33%;">
<col style="width: 33%;">
<col style="width: 33%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Entity</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For local available dependencies.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The actual <code>GradleTest</code> task type (extending <code>Test</code> task type).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SourceSet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manages internal generated source code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTestCompile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal configuration for dependencies required to compile compatibility tests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTestRuntime</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal configuration for dependencies required execute tests (different classpath to those passed to
  actual <code>GradleRunner</code> invocation).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTestGenerator</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates test code that will be compiled and used to actually executed <code>GradleTestKit</code>-based code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>compileGradleTestGroovy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compiles Groovy code generated by <code>gradleTestGenerator</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTestClasses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associated <code>classes</code> task for <code>compileGradleTestGroovy</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradleTestClasspathManifest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creates a classpath manifest file that will be used during test execution to load the correct plugin and
  transitive dependencies</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_temporarily_overriding_gradle_versions">Temporarily overriding Gradle versions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is very convenient to sometimes to runs the test with a subset of the versions specified in the configuration. This is
achievable by passing a system property to Gradle</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">-DgradleTest.versions=2.2,2.3 <i class="conum" data-value="1"></i><b>(1)</b> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>If more than one GradleTest task is defined, replace <code>gradleTest</code> with the name of the appropriate GradleTest task.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>List the versions in a commma-separated list. No validation is done on the string. If it leads to invalid Gradle
versions the build will fail.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_task_dependencies">Task dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>gradleTest</code> is linked into the <code>check</code> lifecycle task.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_html_reports">HTML Reports</h2>
<div class="sectionbody">
<div class="paragraph">
<p>HTML reports will appear as folder named after the <code>GradleTest</code> instance below the <code>${reporting.baseDir}</code> folder.
 Practically in most cases this will be <code>build/reports/gradleTest</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_add_additional_compatibility_test_sets">Add additional compatibility test sets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the <code>additionalGradleTestSet</code> project extension. Specify the basename and all of
the appropriate configurations and tasks will be added.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">    additionalGradleTestSet 'nonLegacyOnly' <i class="conum" data-value="1"></i><b>(1)</b>

    nonLegacyOnlyGradleTest { <i class="conum" data-value="2"></i><b>(2)</b>
        versions '4.0', '4.1', '4.2'
	    versions '3.5', '3.4.1', '3.3'
        versions '3.2', '3.1', '3.0' <i class="conum" data-value="3"></i><b>(3)</b>
        versions '2.14.1'
    }

    nonLegacyOnlyGradleTestGenerator { <i class="conum" data-value="4"></i><b>(4)</b>
        pluginJarDirectory = gradleTestGenerator.pluginJarDirectory
    }
    additionalGradleTestSet 'kotlin'

    kotlinGradleTest {
        versions '4.0', '4.1', '4.2'
    }

    kotlinGradleTestGenerator {
        pluginJarDirectory = gradleTestGenerator.pluginJarDirectory
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Supply basename to <code>additionalGradleTestSet</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This will result in a test task in the format <code>${baseName}GradleTest</code>. Sources are expected to be layed out below
the <code>src/${baseName}GradleTest</code> folder in a similar fashion to <code>gradleTest</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Configure test task as per normal.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Other tasks in the groups are all named using the same convention and can also
just be configured as per normal.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_more_feedback">More feedback</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Running lots of compatibility tests can take some time. If you need more visual feedback
regarding progress try adding something like this to the <code>gradleTest</code> configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">gradleTest{
  beforeTest {
    println "  ${it.name}" <i class="conum" data-value="1"></i><b>(1)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Print the name of the current compatibility test that is runnign</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_kotlin_dsl">Kotlin DSL</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the growing use of Kotlin-based build scripts, it is also important to test compatibility of a plugin for this context. Turn Kotlin-testing on by setting the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">gradleTest {
  kotlinDsl = true
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now drop a <code>build.gradle.kts</code> file alongside your <code>build.gradle</code> build script. If the gradle version under test is 4.0 or later, GradleTest will also run a test using the Kotlin build script.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_line_awareness">Command-line Awareness</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GradleTest is aware of certain command-line parameters and will pass them on to running tests.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>--rerun-tasks</code> - All tests will be re-run even if they were previsouly successful.</p>
</li>
<li>
<p><code>--offline</code> - No dependency checks will be performed and if plugins implements any offline behaviour this will automatically be enabled.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_advanced_features">Advanced Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_caching_dependencies">Caching Dependencies</h3>
<div class="paragraph">
<p>Although gradle tests can download their own dependencies, this might consume unnecessary
bandwidth and waste a lot of testing time. In order to combat this,
any dependencies listed under <code>gradleTest</code> configuration will be downloaded and
made available to the running gradle tests.</p>
</div>
<div class="listingblock">
<div class="title">Define dependencies in build.gradle</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">dependencies {
  gradleTest 'commons-cli:commons-cli:1.2'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>These dependencies then appear as a <code>flatDir</code> repository in the gradle test.</p>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: It is not necessary to add your plugin to the dependencies. The output of the <code>jar</code> task
is automatically added to the <code>gradleTest</code> configuration.</p>
</div>
<div class="listingblock">
<div class="title">Configure test build.gradle for dependency</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">buildscript {
  dependencies {
    classpath ':gnumake:1.0.1' <i class="conum" data-value="1"></i><b>(1)</b>
  }
}

dependencies {
  compile ':commons-cli:1.2' <i class="conum" data-value="2"></i><b>(2)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>It is completely possible to add it to the <code>buildscript</code> for loading
plugins</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Load up any dependencies a per normal</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>NOTE</strong>: This repository is injected into the test using an internal initialisation script.</p>
</div>
</div>
<div class="sect2">
<h3 id="_overriding_internal_dependencies">Overriding internal dependencies</h3>
<div class="paragraph">
<p>GradleTest uses Spock Framework, JUnit &amp; Apache Commons IO underneath. If, for some reason you need to override the
versions of these dependencies it can be done in the <code>gradleTestCompile</code> configuration. If you created a new <code>GradleTest</code>
task called <code>foobar</code> then the appropriate configuration will be called <code>foobarCompile</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_base_plugin">Base plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If the convention of adding a <code>gradleTest</code> with it&#8217;s default settings are not suitable for your
environment, then the base plugin can be considered. This will only add the
<code>additionalGradleTestSet</code> method.
The GradleTest Base Plugin is available in the <a href="https://plugins.gradle.org/plugin/org.ysb33r.gradletest.base">Gradle Plugins</a> repository.
To use it, add the following snippet into your build script.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">plugins {
  id 'org.ysb33r.gradletest.base' version '1.0'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>When your setup is more complex and the plugins block does not work OR if you are using Gradle 2.0 use the following instead</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
  }

  dependencies {
    classpath 'org.ysb33r.gradle:gradletest:1.0'
  }
}

apply plugin: 'org.ysb33r.gradletest.base'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_limitations_gradle_2_13">Known Limitations (Gradle 2.13+)</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Not designed to test with Gradle &lt; 2.0. If the community requires this functionality an effort will be made to
see if it is possible. (It will actually try to runs tests against a Gradle version &lt; 2.0, if configured in
<code>gradleTest</code> by YMMV).</p>
</li>
<li>
<p>Runs in legacy mode when the project is built with Gradle 2.0 - 2.12.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_upgrading_from_v0_5_x">Upgrading from v0.5.x</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>%%.VERSION%%</code> is no longer supported when building with Gradle 2.13+ and builds will fail with
<code>Could not find foo:bar:%%VERSION%%`</code> error if encountered.
It will still be supported if using Gradle 2.12 or earlier as legacy mode will be invoked.
Even under legacy mode it&#8217;s use is no longer required. Simply remove the classpath, and if
you don&#8217;t anything extra in the <code>buildscript</code> block, the whole of the <code>buildscript</code> block.</p>
</div>
<div class="paragraph">
<p>For instance the following block can be complety removed:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">buildscript {
    dependencies {
        classpath 'com.github.jruby-gradle:jruby-gradle-plugin:%%VERSION%%'
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compatibility_with_other_plugins">Compatibility with Other Plugins</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_license_plugin">License plugin</h3>
<div class="paragraph">
<p>The <a href="https://github.com/hierynomus/license-gradle-plugin">License plugin</a> is a really useful plugin to help with
maintenance of license headers in source code. One standard feature of this plugin is to scan all source sets
for license governance. Unfortunately this detects the source sets that are added by <code>GradleTest</code> itself which has
its own internally generated license headers.</p>
</div>
<div class="paragraph">
<p>There is an <a href="https://github.com/hierynomus/license-gradle-plugin/issues/115">open issue</a> against this,
but for now the best workaround is to exclude the test code generated by <code>GradleTest</code>.</p>
</div>
<div class="listingblock">
<div class="title">Configuring licence plugin for exclusion</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">license {
  exclude '**/*CompatibilitySpec.groovy'
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_codenarc_plugin">CodeNarc plugin</h3>
<div class="paragraph">
<p>When adding GradleTest to a project that also has codenarc configured, the tests generated by GradleTest will be scanned by CodeNarc.</p>
</div>
<div class="listingblock">
<div class="title">Configuring CodeNarc to ignore GradleTest</div>
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">codenarcGradleTest.enabled = false</code></pre>
</div>
</div>
</div>
</div>
</div>
<h1 id="_alternative_approaches_to_gradletest" class="sect0">Alternative Approaches to GradleTest</h1>
<div class="sect1">
<h2 id="_gradle_testkit">Gradle TestKit</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>GradleTestKit</code> is the core API that ships with Gradle since Gradle 2.6. which is meant for plugin developers to test compatibility across Gradle versions. Easrly versions could only tests against the same version of Gradle that was running, but it has been enhanced over different Gradle releases. Today it is powereful allowing multiple versions to be tested and a number of different environments to be set up.</p>
</div>
<div class="paragraph">
<p>It is also a core compoenent of <code>GradleTest</code> when the version of Gradle is 2.13 or later.  (When the current build version is older <code>GradleTest</code> falls back to legacy mode, simply because the <code>GradleTestKit</code> API either is non-existent or not mature enough.</p>
</div>
<div class="paragraph">
<p><code>GradleTestKit</code> works well for integration testing when writing plugins if a select small group of Gradle versions are used or even if it only targets the current Gradle version. In this way one can quickly determine issues in a plugin which cannot be discovered via normal testing. <code>GradleTest</code> used <code>GradleTestKit</code> directly for its integration tests for exactly this reason.</p>
</div>
<div class="paragraph">
<p>Testing multiple versions of Gradle with GradleTestKit soon bcomes a burden for developers as the API differs and classpath setups can be tricky. Older versions of Gradle give the most issues. In addition <code>GradleTestKit</code> is essentially a library it focuses on the developer rather than the build script user.</p>
</div>
<div class="paragraph">
<p>In this regard <code>GradleTest</code> steps in as it allow tests to be written as if a normal buildscript would be written. it also manages differences (or non-existance) in API from Gradle 2.0 onwards in a completely transparent way to the plugin author.</p>
</div>
<div class="paragraph">
<p>Overall the approach should be to write integration tests with <code>GradleTestKit</code> using a limited or even just one Gradle version. This is then complimented by some <code>GradleTest</code> scripts to test a wider range of Gradle versions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stutter">Stutter</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/ajoberstar/gradle-stutter">Stutter</a> is another library by <a href="https://github.com/ajoberstar">Andy Oberstar</a> to aid with plugin development. It focuses on the cases where you might have to run the same tests against all supported versions, but don&#8217;t want to deal with making each test loop over those versions (or <code>@Unroll</code> with a <code>where</code> block in Spock). <code>Stutter</code> generates one task per supported version for you and runs the full set of tests against it.</p>
</div>
<div class="paragraph">
<p>It definitely removes some of the complexity of setting up the <code>GradleTestKit</code> environment, but beware that it works from Gradle 2.13 onwards. The latter is not a restriction, but essentialy the same reason why <code>GradleTest</code> reverts to legacy mode if the build version of Gradle is older than 2.13: a lack of maturity in the <code>GradleTestKit</code> API in those releases.</p>
</div>
<div class="paragraph">
<p>It adds a <code>compatTest</code> source set, which will not clash with the <code>gradleTest</code> source set from <code>GradleTest</code>.</p>
</div>
<div class="paragraph">
<p><code>Stutter</code> is essentialy developer-centric whereas <code>GradleTest</code> is script author-centric. This distinction is important as it clarifies different levels of validation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If you want to create good samples and make sure they build, GradleTest is a clear win. Not having to write the extra test code (or touch the TestKit API) is a great benefit.</p>
</li>
<li>
<p>If you need to validate what the build did, you are back in <code>GradleTestKit</code> land and then <code>Stutter</code> will make it easier for you.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It can be an easy way to manage some more complex plugin integration tests. There is no reason to not use it alongside <code>GradleTest</code> as part of plugin development.</p>
</div>
</div>
</div>
<h1 id="_gradletest_legacy_mode_gradle_2_0_2_12" class="sect0">GradleTest Legacy Mode (Gradle 2.0-2.12)</h1>
<div class="openblock partintro">
<div class="content">
If you are building your plugin project with any Gradle version 2.0 - 2.12 it automatically invoked legacy mode and
behaves like the v0.5.5 version of this plugin.
</div>
</div>
<div class="sect1">
<h2 id="_global_configuration">Global Configuration</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">gradleLocations {
  searchGradleUserHome = true      <i class="conum" data-value="1"></i><b>(1)</b>
  includeGradleHome = true         <i class="conum" data-value="2"></i><b>(2)</b>
  searchGvm = true                 <i class="conum" data-value="3"></i><b>(3)</b>
  download = true                  <i class="conum" data-value="4"></i><b>(4)</b>
  downloadToGradleUserHome = false <i class="conum" data-value="5"></i><b>(5)</b>
  useGradleSite = true             <i class="conum" data-value="6"></i><b>(6)</b>
  uri                              <i class="conum" data-value="7"></i><b>(7)</b>
  search                           <i class="conum" data-value="8"></i><b>(8)</b>
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Search Gradle home for Gradle installations.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Include the current <code>GRADLE_HOME</code> folder.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Search the GVM folder for Gradle installations</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Download uninstalled version if online. These distributions will be
placed in the appropriate location in <code>gradle.gradleHome</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Place downloaded distributions in <code>gradle.gradleUserHomeDir</code> in the same way
Gradle wrapper will do.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Download distribution from the global Gradle distribution site.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>List additional URLs to search for Gradle distributions.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Search these additional folders for Gradle installations. Search will be performed
both as if it a cache-style folder (aka <code>gradleUserHome</code>) or an installation-style folder
(aka <code>GVM_HOME</code>).</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the above is used with Gradle 2.13+ it will be accepted and ignored. Deprecation warnings will also be printed.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dynamic_dependencies">Dynamic dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hard-coding the plugin version in to the <code>build.gradle</code> files of the <code>gradleTest</code> test fixtures is a maintenance pain.
In previous versions of the plugin one had to dp to write something like</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">buildscript {
  dependencies {
    classpath ':gnumake:%%VERSION%%'
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>and the plugin would substitute the <code>%%VERSION%%</code> token with the version of your project. This is <strong>no longer necessary
with this release</strong> even when running in legacy mode. The plugin will inject the path to the plugin automatically
eliminating the need to use a block like the above at all.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_task_dependencies_2">Task dependencies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>gradleTest</code> task is not linked to any other tasks. Run this as
explicit task on the command-line or add your own task dependencies in your
gradle script. The reason for this is that  in legacy mode it can be quite a time-consuming testset to run. The typical
case will be that the tests are only run close to release time. If you prefer you might want to set
<code>install.dependsOn gradleTest</code> rather than <code>check.dependsOn gradleTest</code> or <code>build.dependsOn gradleTest</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_directory_layout">Test directory layout</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For testing, a folder is created for each gradle version to be tested and the
projects are duplicated below the verson folder. Each version&#8217;s testsuite is executed
within a separate JVM.</p>
</div>
<div class="listingblock">
<div class="title">Test directory layout</div>
<div class="content">
<pre>${buildDir} / gradleTest / ver1 / project1 <i class="conum" data-value="1"></i><b>(1)</b>
                                / project2
                                / project3
                         / ver2 / project1
                                / project2
                                / project3
                         / init20.gradle   <i class="conum" data-value="2"></i><b>(2)</b>
                         / repo            <i class="conum" data-value="3"></i><b>(3)</b>
                         / home            <i class="conum" data-value="4"></i><b>(4)</b>
            / classes / gradleTest         <i class="conum" data-value="5"></i><b>(5)</b>
            / gradleDist                   <i class="conum" data-value="6"></i><b>(6)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Projects are duplicated for each Gradle version. See below for a more detailed
layout</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is a generated <code>initscript</code> used to start all tests.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This is flat repository that can be utilised by all tests.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Gradle home directory for all the tests</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Temporary classes for bootstrapping the tests are kept here.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Distributions are downloaded here if necessary</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Test layout for one test</div>
<div class="content">
<pre>... / project1 / .gradle         <i class="conum" data-value="1"></i><b>(1)</b>
               / src             <i class="conum" data-value="2"></i><b>(2)</b>
               / build           <i class="conum" data-value="3"></i><b>(3)</b>
               / build.gradle    <i class="conum" data-value="4"></i><b>(4)</b>
               / settings.gradle <i class="conum" data-value="5"></i><b>(5)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Project cachedir is sent here</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If the test project has any folders they will be copied here</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>It is recommended that the build directory not be changed and left as per default</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>build.gradle</code> is required for the test to be executed. It must contain a task called <code>runGradleTest</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>If a test project does not have a <code>settings.gradle file</code> an empty one will
be generated in the test folder</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_additional_gradletest_tasks">Adding additional GradleTest tasks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is possible to add additional test tasks beyond <code>gradleTest</code>, by doing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-groovy" data-lang="groovy">configurations {
  furtherTest
}

task furtherTest( type : org.ysb33r.gradle.gradletest.legacy20.GradleTest ) {
  versions '2.2'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Test files should be placed under <code>src/furtherTest</code> using the same layout as described earlier. Dependencies should be
listed under <code>furtherTest</code> configuration.</p>
</div>
<div class="paragraph">
<p>Global configuration is still read from <code>gradleLocations</code> project extension.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_limitations_gradle_2_0_2_12">Known Limitations (Gradle 2.0-2.12)</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The plugin assumes that no Gradle distributions in <code>gradle,gradleUserHomeDir</code> or <code>GVM_HOME</code> will be removed whilst it
is running.</p>
</li>
<li>
<p>The source sets for the Gradle tests cannot be renamed or added to. The subdirectory name is fixed to the task name.</p>
</li>
<li>
<p>No nice HTML report (<a href="https://github.com/ysb33r/gradleTest/issues/2" class="bare">https://github.com/ysb33r/gradleTest/issues/2</a>)</p>
</li>
<li>
<p>No graceful failure as for <code>test</code> task. Currently throws a <code>TaskExecutionException</code> at the end, which is ugly. (<a href="https://github.com/ysb33r/gradleTest/issues/1" class="bare">https://github.com/ysb33r/gradleTest/issues/1</a>)</p>
</li>
<li>
<p>No running counter of tests run and test failures (as for <code>test</code> task). (<a href="https://github.com/ysb33r/gradleTest/issues/3" class="bare">https://github.com/ysb33r/gradleTest/issues/3</a>)</p>
</li>
<li>
<p>All test output is going to stdout instead of being captured and added to test report. (<a href="https://github.com/ysb33r/gradleTest/issues/4" class="bare">https://github.com/ysb33r/gradleTest/issues/4</a>)</p>
</li>
<li>
<p><code>--no-daemon</code> is set, as we don&#8217;t want to clash with existing running daemons.</p>
</li>
<li>
<p>Init scripts can no longer be passed. (This will probably be addressed in another release).</p>
</li>
<li>
<p>Does not run test in parallel, even though it theoretically could</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Unresolved directive in product-documentation.adoc - include::parts/gradle-runner.adoc[]</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last updated 2017-09-29 15:17:48 +02:00
</div>
</div>
</body>
</html>